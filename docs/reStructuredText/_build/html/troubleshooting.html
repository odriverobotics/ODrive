<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Troubleshooting &mdash; ODrive Documentation 0.0 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Specifications" href="specifications.html" />
    <link rel="prev" title="Control Structure and Tuning" href="control.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> ODrive Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">General</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="odrivetool.html"><code class="code docutils literal notranslate"><span class="pre">odrivetool</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="control-modes.html">Control Modes</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">Parameters &amp; Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="encoders.html">Encoders</a></li>
<li class="toctree-l1"><a class="reference internal" href="control.html">Control Structure and Tuning</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#error-codes">Error Codes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#what-if-dump-errors-gives-me-python-errors">What if <code class="code docutils literal notranslate"><span class="pre">dump_errors()</span></code> gives me python errors?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#usb-connectivity-issues">USB Connectivity Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="#firmware-issues">Firmware Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#failure-to-build-the-firmware-when-running-make">Failure to Build the Firmware when Running <code class="code docutils literal notranslate"><span class="pre">make</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#failure-to-flash-the-firmware-when-running-make-flash">Failure to Flash the Firmware When Running <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">flash</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#other-issues-that-may-not-produce-an-error-code">Other Issues that <cite>may not</cite> produce an error code</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#motor-cuts-off-or-spins-uncontrollably-at-high-speeds-ie-5000-rpm">Motor cuts off or spins uncontrollably at high speeds (ie: &gt; 5000 RPM)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-vibrates-when-stationary-or-makes-constant-noise">Motor vibrates when stationary or makes constant noise</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-overshoots-target-position-or-oscillates-back-and-forth">Motor overshoots target position or oscillates back and forth</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-slowly-starts-to-increase-in-speed">Motor slowly starts to increase in speed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#motor-feels-like-it-has-less-torque-than-it-should-and-or-gets-hot-sitting-still-while-under-no-load">Motor feels like it has less torque than it should and/or gets hot sitting still while under no load</a></li>
<li class="toctree-l3"><a class="reference internal" href="#false-steps-or-direction-changes-when-using-step-dir">False steps or direction changes when using step/dir</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="ground-loops.html">Ground Loops</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="hoverboard.html">Hoverboard Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="can-guide.html">CAN Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Interfaces and Protocols</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="protocol.html">ODrive Communication Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="pinout.html">Pinout</a></li>
<li class="toctree-l1"><a class="reference internal" href="usb.html">USB</a></li>
<li class="toctree-l1"><a class="reference internal" href="uart.html">UART Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="native-protocol.html">Native Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="ascii-protocol.html">ASCII Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="can-protocol.html">CAN Protocol</a></li>
<li class="toctree-l1"><a class="reference internal" href="step-direction.html">Step &amp; Direction</a></li>
<li class="toctree-l1"><a class="reference internal" href="rc-pwm.html">RC PWM input</a></li>
<li class="toctree-l1"><a class="reference internal" href="analog-input.html">Analog Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="endstops.html">Endstops and Homing</a></li>
<li class="toctree-l1"><a class="reference internal" href="thermistors.html">Thermistors</a></li>
</ul>
<p class="caption"><span class="caption-text">ODrive Device API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html">ODrive Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">For ODrive Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer-guide.html">ODrive Firmware Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-vscode.html">Configuring Visual Studio Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuring-eclipse.html">Setting up Eclipse development environment</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ODrive Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Troubleshooting</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="troubleshooting">
<span id="id1"></span><h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#error-codes" id="id3">Error Codes</a></p></li>
<li><p><a class="reference internal" href="#usb-connectivity-issues" id="id4">USB Connectivity Issues</a></p></li>
<li><p><a class="reference internal" href="#firmware-issues" id="id5">Firmware Issues</a></p></li>
<li><p><a class="reference internal" href="#other-issues-that-may-not-produce-an-error-code" id="id6">Other Issues that <cite>may not</cite> produce an error code</a></p></li>
</ul>
</div>
<div class="section" id="error-codes">
<span id="id2"></span><h2><a class="toc-backref" href="#id3">Error Codes</a><a class="headerlink" href="#error-codes" title="Permalink to this headline"></a></h2>
<p>If your ODrive is not working as expected, run <code class="code docutils literal notranslate"><span class="pre">odrivetool</span></code> and type <code class="code docutils literal notranslate"><span class="pre">dump_errors(odrv0)</span></code> <kbd class="kbd docutils literal notranslate">Enter</kbd>.
This will dump a list of all the errors that are present. To clear all the errors, you can run <code class="code docutils literal notranslate"><span class="pre">odrv0.clear_errors()</span></code>.</p>
<p>With this information you can look up the API documentation for your error(s):</p>
<ul class="simple">
<li><p>System error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.Error" title="ODrive.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
<li><p>Axis error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.Axis.Error" title="ODrive.Axis.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
<li><p>Motor error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.Motor.Error" title="ODrive.Motor.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
<li><p>Encoder error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.Encoder.Error" title="ODrive.Encoder.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
<li><p>Controller error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.Controller.Error" title="ODrive.Controller.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
<li><p>Sensorless estimator error flags documented <a class="reference internal" href="fibre_types/com_odriverobotics_ODrive.html#ODrive.SensorlessEstimator.Error" title="ODrive.SensorlessEstimator.Error"><code class="xref py py-attr docutils literal notranslate"><span class="pre">here</span></code></a>.</p></li>
</ul>
<div class="section" id="what-if-dump-errors-gives-me-python-errors">
<h3>What if <code class="code docutils literal notranslate"><span class="pre">dump_errors()</span></code> gives me python errors?<a class="headerlink" href="#what-if-dump-errors-gives-me-python-errors" title="Permalink to this headline"></a></h3>
<p>If you get output like this:</p>
<details class="sphinx-bs dropdown card mb-3">
<summary class="summary-title card-header">
AttributeError: ‘RemoteObject’ object has no attribute<div class="summary-down docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="summary-up docutils">
<svg version="1.1" width="24" height="24" class="octicon octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="summary-content card-body docutils">
<div class="highlight-iPython notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="n">dump_errors</span><span class="p">(</span><span class="n">odrv0</span><span class="p">)</span>
<span class="n">axis0</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="ne">AttributeError</span>                            <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="o">~/.</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">fibre</span><span class="o">/</span><span class="n">shell</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="n">dump_errors</span><span class="p">(</span><span class="n">odrv0</span><span class="p">)</span>

<span class="o">~/.</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">odrive</span><span class="o">/</span><span class="n">utils</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">dump_errors</span><span class="p">(</span><span class="n">odrv</span><span class="p">,</span> <span class="n">clear</span><span class="p">)</span>
    <span class="mi">78</span>             <span class="p">(</span><span class="s1">&#39;axis&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">odrive</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;AXIS_ERROR_&quot;</span><span class="p">)}),</span>
    <span class="mi">79</span>             <span class="p">(</span><span class="s1">&#39;motor&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">.</span><span class="n">motor</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">odrive</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;MOTOR_ERROR_&quot;</span><span class="p">)}),</span>
<span class="o">---&gt;</span> <span class="mi">80</span>             <span class="p">(</span><span class="s1">&#39;fet_thermistor&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">.</span><span class="n">fet_thermistor</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">odrive</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;THERMISTOR_CURRENT_LIMITER_ERROR&quot;</span><span class="p">)}),</span>
    <span class="mi">81</span>             <span class="p">(</span><span class="s1">&#39;motor_thermistor&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">.</span><span class="n">motor_thermistor</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">odrive</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;THERMISTOR_CURRENT_LIMITER_ERROR&quot;</span><span class="p">)}),</span>
    <span class="mi">82</span>             <span class="p">(</span><span class="s1">&#39;encoder&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">.</span><span class="n">encoder</span><span class="p">,</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">odrive</span><span class="o">.</span><span class="n">enums</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;ENCODER_ERROR_&quot;</span><span class="p">)}),</span>

<span class="o">~/.</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">6</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">fibre</span><span class="o">/</span><span class="n">remote_object</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="mi">243</span>             <span class="k">return</span> <span class="n">attr</span>
    <span class="mi">244</span>         <span class="k">else</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">245</span>             <span class="k">return</span> <span class="nb">object</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
    <span class="mi">246</span>             <span class="c1">#raise AttributeError(&quot;Attribute {} not found&quot;.format(name))</span>
    <span class="mi">247</span>

<span class="ne">AttributeError</span><span class="p">:</span> <span class="s1">&#39;RemoteObject&#39;</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s1">&#39;fet_thermistor&#39;</span>
</pre></div>
</div>
</div>
</details><p>when you call <code class="code docutils literal notranslate"><span class="pre">dump_errors()</span></code>, you have a version mismatch between odrivetool and the firmware on your ODrive.
To get the newest version of odrivetool, you can run <code class="code docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">odrive</span> <span class="pre">--upgrade</span></code>.
To get the newest ODrive firmware, run <code class="code docutils literal notranslate"><span class="pre">odrivetool</span> <span class="pre">dfu</span></code>.
See the <a class="reference internal" href="odrivetool.html#firmware-update"><span class="std std-ref">odrivetool</span></a> page for more details.</p>
</div>
</div>
<div class="section" id="usb-connectivity-issues">
<h2><a class="toc-backref" href="#id4">USB Connectivity Issues</a><a class="headerlink" href="#usb-connectivity-issues" title="Permalink to this headline"></a></h2>
<blockquote>
<div><ul>
<li><p>Try turning it off and on again (the ODrive, the script, the PC)</p></li>
<li><p>Make sure you’re using the latest firmware and python tools release</p></li>
<li><p><strong>Linux</strong>: Type <code class="code docutils literal notranslate"><span class="pre">lsusb</span></code> to list all USB devices. Verify that your ODrive is listed.</p></li>
<li><p><strong>Linux</strong>: Make sure you <a class="reference internal" href="index.html#install-odrivetool"><span class="std std-ref">set up your udev rules</span></a> correctly.</p></li>
<li><p><strong>Windows</strong>: Right-click on the start menu and open “Device Manager”. Verify that your ODrive is listed.</p></li>
<li><p><strong>Windows</strong>: Use the <a class="reference external" href="http://zadig.akeo.ie/">Zadig utility</a> to verify the driver is set to <code class="code docutils literal notranslate"><span class="pre">WinUSB</span></code> or <code class="code docutils literal notranslate"><span class="pre">libusb-win32</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There are two options listed in Zadig for ODrive: <code class="code docutils literal notranslate"><span class="pre">ODrive</span> <span class="pre">3.x</span> <span class="pre">Native</span> <span class="pre">Interface</span> <span class="pre">(Interface</span> <span class="pre">2)</span></code> and <code class="code docutils literal notranslate"><span class="pre">ODrive</span> <span class="pre">3.x</span> <span class="pre">CDC</span> <span class="pre">Interface</span> <span class="pre">(Interface</span> <span class="pre">0)</span></code>.</p>
</div>
<p>Only the driver setting of the native interface is important to <cite>odrivetool</cite>.</p>
</li>
<li><p>Ensure that no other ODrive program is running</p></li>
<li><p>Run <code class="code docutils literal notranslate"><span class="pre">odrivetool</span></code> with the <cite>–verbose</cite> option.</p></li>
<li><p>Run <code class="code docutils literal notranslate"><span class="pre">PYUSB_DEBUG=debug</span> <span class="pre">odrivetool</span></code> to get even more log output.</p></li>
<li><p>If you’re a developer you can use Wireshark to capture USB traffic.</p></li>
<li><p>Try a different USB cable</p></li>
<li><p>Try routing your USB cable so that it is far away from the motor and PSU cables to reduce EMI</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="firmware-issues">
<h2><a class="toc-backref" href="#id5">Firmware Issues</a><a class="headerlink" href="#firmware-issues" title="Permalink to this headline"></a></h2>
<div class="section" id="failure-to-build-the-firmware-when-running-make">
<h3>Failure to Build the Firmware when Running <code class="code docutils literal notranslate"><span class="pre">make</span></code><a class="headerlink" href="#failure-to-build-the-firmware-when-running-make" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Clear out temporary files from previous compiles by first running <cite>make clean</cite> to prevent conflicts.</p></li>
<li><p><strong>Windows users</strong>: Confirm that tup has been correctly added to path by running <code class="code docutils literal notranslate"><span class="pre">env|grep</span> <span class="pre">PATH</span></code> in Git Bash.
If you see no mention of tup then you must <a class="reference external" href="https://docs.alfresco.com/4.2/tasks/fot-addpath.html">add its location to your PATH environment variable.</a>.
Note that you may need to restart for the added path to take effect.</p></li>
</ul>
</div>
<div class="section" id="failure-to-flash-the-firmware-when-running-make-flash">
<h3>Failure to Flash the Firmware When Running <code class="code docutils literal notranslate"><span class="pre">make</span> <span class="pre">flash</span></code><a class="headerlink" href="#failure-to-flash-the-firmware-when-running-make-flash" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>If using an ST-link, confirm that the ST-link is connected the correct pins and that you have power supplied to the board.
This can be by the 5V pin on the ST link or the main DC power jack. No power is supplied over the USB connection.</p></li>
</ul>
</div>
</div>
<div class="section" id="other-issues-that-may-not-produce-an-error-code">
<h2><a class="toc-backref" href="#id6">Other Issues that <cite>may not</cite> produce an error code</a><a class="headerlink" href="#other-issues-that-may-not-produce-an-error-code" title="Permalink to this headline"></a></h2>
<div class="section" id="motor-cuts-off-or-spins-uncontrollably-at-high-speeds-ie-5000-rpm">
<h3>Motor cuts off or spins uncontrollably at high speeds (ie: &gt; 5000 RPM)<a class="headerlink" href="#motor-cuts-off-or-spins-uncontrollably-at-high-speeds-ie-5000-rpm" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>You may be approaching the limit of your encoder.
The 2400 count/rotation encoders that were initially included with odrive are realistically limited to around 5000 RPM.
Exceeding this speed causes the odrive to lose track of position.
This can only be fixed by using an alternative encoder or gearing down the output of your motor onto your encoder so that it still sees &lt; 5000RPM at full speed.
If using the gearing options be sure to change your counts/rotation accordingly.</p></li>
</ul>
</div>
<div class="section" id="motor-vibrates-when-stationary-or-makes-constant-noise">
<h3>Motor vibrates when stationary or makes constant noise<a class="headerlink" href="#motor-vibrates-when-stationary-or-makes-constant-noise" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Likely due to incorrect gains, specifically <code class="code docutils literal notranslate"><span class="pre">vel_gain</span></code> may be set too high.
Try following the <a class="reference internal" href="control.html#control-tuning"><span class="std std-ref">tuning procedure</span></a>.</p></li>
<li><p>Check encoder shaft connection. Grub screws may vibrate lose with time.
If using a CUI shaft encoder try remounting the plastic retaining ring and confirm that it is not coming into contact with the encoder housing.
Also confirm that the encoder is securely mounted.</p></li>
<li><p>If you are using a high resolution encoder (&gt;4000 counts/rotation) then increasing encoder_pll_bandwidth may help reduce vibration.</p></li>
<li><p>If you connect your motor to an object with a large moment of inertia (such as a flywheel) this will help reduce vibrations at high gians.
However, make sure that all connections are ridged. Cheap shaft couplers or belts under low tension can introduce enough flex into a system that the motor may still vibrate independently.</p></li>
</ul>
</div>
<div class="section" id="motor-overshoots-target-position-or-oscillates-back-and-forth">
<h3>Motor overshoots target position or oscillates back and forth<a class="headerlink" href="#motor-overshoots-target-position-or-oscillates-back-and-forth" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Likely due to incorrect gains for a given motor current limit.
Specifically <code class="code docutils literal notranslate"><span class="pre">pos_gain</span></code> is set too high.
Try following the <a class="reference internal" href="control.html#control-tuning"><span class="std std-ref">tuning procedure</span></a>.</p></li>
<li><p>Increase the current limit of your motor for more torque.</p></li>
</ul>
</div>
<div class="section" id="motor-slowly-starts-to-increase-in-speed">
<h3>Motor slowly starts to increase in speed<a class="headerlink" href="#motor-slowly-starts-to-increase-in-speed" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Encoder has likely slipped. This may occur when your motor makes a hard stop or violently vibrates causing something to come lose.
Power the board off and on again so that it undertakes a new calibration.
If you are using an index search on startup then you will need to repeat the index calibration process.</p></li>
</ul>
</div>
<div class="section" id="motor-feels-like-it-has-less-torque-than-it-should-and-or-gets-hot-sitting-still-while-under-no-load">
<h3>Motor feels like it has less torque than it should and/or gets hot sitting still while under no load<a class="headerlink" href="#motor-feels-like-it-has-less-torque-than-it-should-and-or-gets-hot-sitting-still-while-under-no-load" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Encoder has likely slipped causing the motor controller to commutate the wrong windings slightly which reduces output torque and produces excess heat as the motor ‘fights itself’.</p></li>
<li><p>This can also be caused if the rotor bell slips on the motor shaft.
On some motors the rotor bell is secured against the shaft with a grub screw.
Confirm that this screw is tight enough.
For further details on how to resolve this issue see <a class="reference external" href="https://discourse.odriverobotics.com/t/motor-gets-hot-has-less-torque-in-one-direction-than-the-other/2394">this forum post</a>.</p></li>
</ul>
</div>
<div class="section" id="false-steps-or-direction-changes-when-using-step-dir">
<h3>False steps or direction changes when using step/dir<a class="headerlink" href="#false-steps-or-direction-changes-when-using-step-dir" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Prior to Odrive board V3.5 no filtering is present on the GPIO pins used for step/dir interface and so inductively coupled noise may causes false steps to be detected.
ODrive V3.5 and has onboard filtering to resolve this issue.</p></li>
<li><p>If you experience this issue use a twisted pair cable between your microcontroller that’s generating the step/dir signals and your odrive board.
A section cut from cat-5 cable works well as does just twisting some normal insulated wire together.</p></li>
<li><p>Ensure that the step/dir signal cables are not draped over the odrive board, are not running in parallel to the motor or power supply cables.</p></li>
<li><p>If the above does not resolve your issue on V3.4 boards and lower try adding a ~22 Ohm resistor in series with the step and direction pins along with a ~ 4.7 nF capacitor between the ground pin and the step and dir pins such as shown <a class="reference external" href="https://cdn.discordapp.com/attachments/369667319280173069/420811057431445504/IMG_20180306_211224.jpg">here</a>.</p></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="control.html" class="btn btn-neutral float-left" title="Control Structure and Tuning" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="specifications.html" class="btn btn-neutral float-right" title="Specifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ODrive Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>